"use strict";var WPFormsBuilderSaveResume=window.WPFormsBuilderSaveResume||function(e,n){var t={showPopup:0,init:function(){n(t.ready),n(e).on("load",function(){"function"==typeof n.ready.then?n.ready.then(t.load):t.load()})},ready:function(){t.bindUIActions(),t.panelToggle(),t.disclaimerToggle(),t.notificationToggle()},load:function(){t.toggleResumeLink()},bindUIActions:function(){var e=n("#wpforms-builder");e.on("change","#wpforms-panel-field-settings-save_resume_enable",t.showDisabledNotification),e.on("change","#wpforms-panel-field-settings-disable_entries",t.disableAddon),e.on("change","#wpforms-panel-field-settings-save_resume_enable",t.panelToggle),e.on("change",'#wpforms-panel-field-settings-save_resume_disclaimer_enable[type="checkbox"]',t.disclaimerToggle),e.on("change","#wpforms-panel-field-settings-save_resume_enable_resume_link, #wpforms-panel-field-settings-save_resume_enable_email_notification",t.requiredFieldsCheck),e.on("change",'#wpforms-panel-field-settings-save_resume_enable_email_notification[type="checkbox"]',t.notificationToggle),e.on("wpformsSaved",t.requiredFieldsCheck),e.on("wpformsSaved",t.showRequiredFieldsPopup),e.on("click","#wpforms-preview-btn",t.requiredFieldsCheck),e.on("change","#wpforms-panel-field-settings-save_resume_enable",t.toggleResumeLink),e.on("wpformsFieldAdd wpformsFieldDelete",t.toggleResumeLink),e.on("wpformsFieldAdd",t.addResumeLink),e.on("input","#wpforms-panel-field-settings-save_resume_link_text",t.updateResumeLinks)},isSaveResumeEnabled:function(){return n("#wpforms-panel-field-settings-save_resume_enable").is(":checked")},panelToggle:function(){var e=n(".wpforms-save-resume-sub-panel");t.isSaveResumeEnabled()?e.show():e.hide()},disclaimerToggle:function(){var e=n('#wpforms-panel-field-settings-save_resume_disclaimer_enable[type="checkbox"]'),s=n("#wpforms-panel-field-settings-save_resume_disclaimer_message-wrap");e.length&&(e.is(":checked")?s.show():s.hide())},notificationToggle:function(){var e,s=n('#wpforms-panel-field-settings-save_resume_enable_email_notification[type="checkbox"]');s.length&&(e=n(".wpforms-save-resume-email-settings"),s.is(":checked")?e.show():e.hide())},requiredFieldsCheck:function(e){!t.isSaveResumeEnabled()||n('#wpforms-panel-field-settings-save_resume_enable_resume_link[type="checkbox"]').is(":checked")||n('#wpforms-panel-field-settings-save_resume_enable_email_notification[type="checkbox"]').is(":checked")||(n(this).prop("checked",!n(this).prop("checked")),n.alert({title:wpforms_builder.heads_up,content:wpforms_builder.save_resume_email_link_settings_required,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"]}}}))},requiredDisclaimerMsg:function(){!t.isSaveResumeEnabled()||!n('#wpforms-panel-field-settings-save_resume_disclaimer_enable[type="checkbox"]').is(":checked")||0<n("#wpforms_panel_field_settings_save_resume_disclaimer_message").val().trim().length||(t.showPopup+=1)},requiredNotificationMsg:function(){!t.isSaveResumeEnabled()||!n('#wpforms-panel-field-settings-save_resume_enable_email_notification[type="checkbox"]').is(":checked")||0<n("#wpforms-panel-field-settings-save_resume_email_notification_message").val().trim().length&&0<n("#wpforms_panel_field_settings_save_resume_email_settings_message").val().trim().length||(t.showPopup+=1)},requiredConfirmationMsg:function(){!t.isSaveResumeEnabled()||0<n("#wpforms_panel_field_settings_save_resume_confirmation_message").val().trim().length||0<n("#wpforms_panel_field_settings_save_resume_disclaimer_message").val().trim().length||(t.showPopup+=1)},showRequiredFieldsPopup:function(){t.requiredDisclaimerMsg(),t.requiredNotificationMsg(),t.requiredConfirmationMsg(),t.showPopup<1||(n.alert({title:wpforms_builder.heads_up,content:wpforms_builder.save_resume_required_text_fields,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"]}}}),t.showPopup=!1)},showDisabledNotification:function(){var e=n(this);e.prop("checked")&&n("#wpforms-panel-field-settings-disable_entries").prop("checked")&&(n.confirm({title:wpforms_builder.heads_up,content:wpforms_builder.save_resume_disabled_entry_storage,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"]}}}),e.prop("checked",!1))},disableAddon:function(){var e=n(this),s=n("#wpforms-panel-field-settings-save_resume_enable");e.prop("checked")&&s.prop("checked")&&(s.prop("checked",!1),t.panelToggle())},toggleResumeLink(){var e=n(".wpforms-preview .wpforms-save-resume-button");t.isSaveResumeEnabled()&&wpf.getFields()?e.removeClass("wpforms-hidden"):e.addClass("wpforms-hidden")},addResumeLink(e,s,i){"pagebreak"===i&&(i=n("#wpforms-field-"+s).find(".wpforms-save-resume-button")).length&&(t.isSaveResumeEnabled()&&wpf.getFields()||i.addClass("wpforms-hidden"),t.updateResumeLink(i))},updateResumeLink:function(e){var s=n("#wpforms-panel-field-settings-save_resume_link_text").val().trim(),s=s.length?s:wpforms_builder.save_resume_default_link_text;e.find("span").text(s)},updateResumeLinks:function(){n(".wpforms-preview").find(".wpforms-save-resume-button").each(function(){t.updateResumeLink(n(this))})}};return t}((document,window),jQuery);WPFormsBuilderSaveResume.init();