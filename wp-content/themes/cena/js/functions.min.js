!function(e){"use strict";var t={init:function(){var e=this;e.initSidebarMobile(),e.initDataAnimation(),e.initTopBarDevice(),e.initOffCanvasMenu(),e.initPlayIsotopeMasonry(),e.initApplyFilter(),e.initStickyHeader(),e.initDataTooltip(),e.initTopbarMobile(),e.initBackToTop(),e.initPageLoader(),e.initTbayMenu(),e.initMobileMenu(),e.initBodyLoader(),e.initSearch(),e.initlayzyLoadImage(),e.initSetHiddenmodal(),e.initBrlmpButtonSettings(),e.initToCategoryFixed(),e.MenuDropdownsAJAX()},MenuDropdownsAJAX:function(){"undefined"!=typeof cena_settings&&this._initmenuDropdownsAJAX()},_initmenuDropdownsAJAX:function(){var t=this;e("body").on("mousemove",(function(){e(".menu").has(".dropdown-load-ajax").each((function(){var o=e(this);o.hasClass("dropdowns-loading")||o.hasClass("dropdowns-loaded")||t.isNear(o,50,event)&&t.loadDropdowns(o)}))}))},loadDropdowns(t){var o=this;t.addClass("dropdowns-loading");var i,n="",a="";"tbay-mobile-menu-navbar"===t.closest("nav").attr("id")?(e("#main-mobile-menu-mmenu-wrapper").length>0&&(a+="_"+e("#main-mobile-menu-mmenu-wrapper").data("id")),e("#main-mobile-second-mmenu-wrapper").length>0&&(a+="_"+e("#main-mobile-second-mmenu-wrapper").data("id")),n=cena_settings.storage_key+"_megamenu_mobile"+a):n=cena_settings.storage_key+"_megamenu_"+t.closest("nav").find("ul").data("id"),i=localStorage.getItem(n);var s=!1,r=t.find(".dropdown-load-ajax"),d=[];r.each((function(){d.push(e(this).find(".dropdown-html-placeholder").data("id"))}));try{s=JSON.parse(i)}catch(e){console.log("cant parse Json",e)}s?(o.renderResults(s,t),"tbay-mobile-menu-navbar"!==t.attr("id")&&t.removeClass("dropdowns-loading").addClass("dropdowns-loaded")):e.ajax({url:cena_settings.ajaxurl,data:{action:"cena_load_html_dropdowns",ids:d,nonce:cena_settings.nonce},dataType:"json",method:"POST",success:function(e){"success"===e.status?(o.renderResults(e.data,t),localStorage.setItem(n,JSON.stringify(e.data))):console.log("loading html dropdowns returns wrong data - ",e.message)},error:function(){console.log("loading html dropdowns ajax error")}})},renderResults(e,t){var o=this;Object.keys(e).forEach((function(i){o.removeDuplicatedStylesFromHTML(e[i],(function(e){let o=e;const n='<li[^>]*><a[^>]*href=["]'+window.location.href+'["]>.*?</a></li>';let a=e.match(n);if(null!==a){let e=a[0],t=e.match(/(?:class)=(?:["']\W+\s*(?:\w+)\()?["']([^'"]+)['"]/g)[0].split('"')[1],i=t+" active",n=e.replace(t,i);o=o.replace(e,n)}t.find('[data-id="'+i+'"]').replaceWith(o),"tbay-mobile-menu-navbar"!==t.attr("id")&&(t.addClass("dropdowns-loaded"),setTimeout((function(){t.removeClass("dropdowns-loading")}),1e3))}))}))},isNear(e,t,o){var i=e.offset().left-t,n=e.offset().top-t,a=i+e.width()+2*t,s=n+e.height()+2*t,r=o.pageX,d=o.pageY;return r>i&&r<a&&d>n&&d<s},removeDuplicatedStylesFromHTML(e,t){t(e.replace(/<style>.*?<\/style>/gm,""))},initSidebarMobile:function(){e(document).on("click",".cena-sidebar-mobile-btn",(function(){e("body").addClass("show-sidebar")})),e(document).on("click",".close-side-widget, .cena-close-side",(function(){e("body").removeClass("show-sidebar")}))},initDataAnimation:function(){e("[data-progress-animation]").each((function(){let t=e(this);t.appear((function(){let e=t.attr("data-appear-animation-delay")?t.attr("data-appear-animation-delay"):1;e>1&&t.css("animation-delay",e+"ms"),setTimeout((function(){t.animate({width:t.attr("data-progress-animation")},800)}),e)}),{accX:0,accY:-50})}))},initTopBarDevice:function(){let t=e(window).scrollTop(),o=e(".topbar-device-mobile").height(),i=(e("#tbay-mobile-menu").height(),e(window).scrollTop());t<=o?e(".topbar-device-mobile").addClass("active"):e(".topbar-device-mobile").removeClass("active"),0==i?(e("#tbay-mobile-menu").addClass("offsetop"),e("body").addClass("offsetop-menu-mobile")):(e("#tbay-mobile-menu").removeClass("offsetop"),e("body").removeClass("offsetop-menu-mobile"))},initOffCanvasMenu:function(){e('[data-toggle="offcanvas"], .btn-offcanvas').on("click",(function(){e(".row-offcanvas").toggleClass("active")})),e("#main-menu-offcanvas .caret").on("click",(function(){return e("#main-menu-offcanvas .dropdown").removeClass("open"),e(this).parent().addClass("open"),!1})),e(".counterUp").length>0&&e(".counterUp").counterUp({delay:10,time:800})},initPlayIsotopeMasonry:function(){e(".isotope-items,.blog-masonry").each((function(){let t=e(this);t.imagesLoaded((function(){t.isotope({itemSelector:".isotope-item",transformsEnabled:!0})}))}))},initApplyFilter:function(){jQuery(".isotope-filter li a").on("click",(function(){var e=jQuery(this).parents("ul.isotope-filter").data("related-grid");jQuery(this).parents("ul.isotope-filter").find("li a").removeClass("active"),jQuery(this).addClass("active");var t=jQuery(this).attr("data-filter");return jQuery("#"+e).isotope({filter:t},(function(){})),!1}))},initStickyHeader:function(){var t=jQuery("#tbay-header");if(t.hasClass("main-sticky-header")){var o=jQuery(window).width(),i=t.height();jQuery("#tbay-header.sticky-header").height();e(window).scroll((function(){if(o>992){var e=jQuery(this).scrollTop();e>i?(t.addClass("sticky-header"),t.parent().css("margin-top",i)):(t.removeClass("sticky-header"),t.parent().css("margin-top",0)),e}})),e(window).resize((function(e){o<1024&&t.removeClass("sticky-header")}))}},initDataTooltip:function(){e('[data-toggle="tooltip"]').tooltip()},initTopbarMobile:function(){e(".topbar-mobile .dropdown-menu").on("click",(function(e){e.stopPropagation()}))},initBackToTop:function(){e(window).scroll((function(){e(this).scrollTop()>400?(e(".tbay-to-top").addClass("active"),e(".tbay-category-fixed").addClass("active")):(e(".tbay-to-top").removeClass("active"),e(".tbay-category-fixed").removeClass("active"))})),e("#back-to-top").on("click",(function(){return e("html, body").animate({scrollTop:"0px"},800),!1}))},initPageLoader:function(){e(window).on("load",(function(){e(".tbay-page-loader").delay(100).fadeOut(400,(function(){e("body").removeClass("tbay-body-loading"),e(this).remove()}))}))},initTbayMenu:function(){e("#tbay-mobile-menu.v8").parent().addClass("v8"),e(".treeview-menu .menu").treeview({animated:300,collapsed:!0,unique:!0,persist:"location"}),e(".navbar-offcanvas #main-mobile-menu").treeview({animated:300,collapsed:!0,unique:!0,hover:!1}),e(".category-inside-content #category-menu").addClass("treeview"),e(".category-inside-content #category-menu").treeview({animated:300,collapsed:!0,unique:!0,persist:"location"}),e(".category-inside .category-inside-title").on("click",(function(){e(this).parents(".category-inside").find(".category-inside-content").slideToggle("fast"),e(this).parents(".category-inside").toggleClass("open")})),e("ul.treeview ul.sub-menu").removeClass("dropdown-menu");var t=e(".tbay-demo");e(".tbay-switch").on("click",(function(){e("#wrapper-container").toggleClass("show-demo"),t.hasClass("active")?t.removeClass("active"):t.addClass("active")}))},initMobileMenu:function(){e('[data-toggle="offcanvas"], .btn-offcanvas').on("click",(function(){e("#wrapper-container").toggleClass("active"),e("body").toggleClass("show-mobile-menu"),e("#tbay-mobile-menu").toggleClass("active")})),e("#main-mobile-menu .caret").on("click",(function(){return e("#main-mobile-menu .dropdown").removeClass("open"),e(this).parent().addClass("open"),!1}))},initBodyLoader:function(){var t=e("body");t.hasClass("tbay-body-loader")&&setTimeout((function(){t.removeClass("tbay-body-loader"),e(".tbay-page-loader").fadeOut(250)}),300)},initSearch:function(){e(".button-show-search").on("click",(function(){return e(".tbay-search-form").addClass("active"),!1})),e(".button-hidden-search").on("click",(function(){return e(".tbay-search-form").removeClass("active"),!1}))},initlayzyLoadImage:function(){var t;e(window).off("scroll.unveil resize.unveil lookup.unveil"),(t=e(".product-image:not(.image-loaded) .unveil-image, .tbay-gallery-varible:not(.image-loaded) .unveil-image")).length&&t.unveil(1,(function(){e(this).on("load",(function(){e(this).parents(".product-image, .tbay-gallery-varible").first().addClass("image-loaded"),e(this).removeAttr("data-src")}))})),function(){var t=e(".tbay-image-loaded:not(.image-loaded) .unveil-image, .tbay-image-loaded");t.length&&t.unveil(1,(function(){e(this).on("load",(function(){e(this).parents(".tbay-image-loaded:not(.image-loaded) .unveil-image").first().addClass("image-loaded"),e(this).removeAttr("data-src")}))}))}()},initGetHiddenmodal:function(){setTimeout((function(){""==e.fn.getCookie("hiddenmodal")&&jQuery("#popupNewsletterModal").modal("show")}),3e3)},initSetHiddenmodal:function(){e("#popupNewsletterModal").on("hidden.bs.modal",(function(){e.fn.setCookie("hiddenmodal",1,.1)}))},initBrlmpButtonSettings:function(){let t=this;e(document).on("click",".br_lmp_button_settings .lmp_button",(function(e){setTimeout((function(){t.initlayzyLoadImage()}),5e3)}))},initToCategoryFixed:function(){let t=(e(window).width()-e(".container").width())/2;if(t>=80){let o=t-80;e(".tbay-category-fixed").css("left",o),e(".tbay-to-top").css("right",o),e(".tbay-category-fixed").css("display","block"),e(".tbay-to-top").css("display","block")}else e(".tbay-category-fixed").css("display","none"),e(".tbay-to-top").css("display","none")}};if(e.fn.setCookie=function(e,t,o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3);var n="expires="+i.toUTCString();document.cookie=e+"="+t+"; "+n+";path=/"},e.fn.getCookie=function(e){for(var t=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var n=o[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""},e.fn.jpreLoader){var o=e(".js-preloader");o.jpreLoader({},(function(){o.addClass("preloader-done"),e("body").trigger("preloader-done"),e(window).trigger("resize")}))}e.fn.wrapStart=function(t){return this.each((function(){var t=e(this).contents().filter((function(){return 3==this.nodeType})).first(),o=t.text().trim(),i=o.split(" ",1).join(" ");t.length&&(t[0].nodeValue=o.slice(i.length),t.before("<b>"+i+"</b>"))}))},e.fn.unveil=function(t,o){var i,n=e(window),a=t||0,s=window.devicePixelRatio>1?"data-src-retina":"data-src",r=this;function d(){var t=r.filter((function(){var t=e(this),o=n.scrollTop()-10,i=o+n.height(),s=t.offset().top;return s+t.height()>=o-a&&s<=i+a}));i=t.trigger("unveil"),r=r.not(i)}return this.one("unveil",(function(){var e=this.getAttribute(s);(e=e||this.getAttribute("data-src"))&&(this.setAttribute("src",e),"function"==typeof o&&o.call(this))})),n.on("scroll.unveil resize.unveil lookup.unveil",d),d(),this},e(document).ready((function(){e(document.body).on("cena_lazy_load_image",(()=>{t.initlayzyLoadImage()})),t.init()})),e(window).resize((function(){t.initToCategoryFixed()})),e(window).scroll((function(){t.initTopBarDevice()})),jQuery(window).on("load",(function(){t.initGetHiddenmodal()}))}(jQuery);